{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ResumenPago=_ref=>{let{reference,apiUrl}=_ref;const[detalle,setDetalle]=useState(null);// üì¶ Detalle del pago recibido del backend\nconst[error,setError]=useState(false);// ‚ö†Ô∏è Control de errores\nconst[cargando,setCargando]=useState(true);// ‚è≥ Indicador de carga\nuseEffect(()=>{const obtenerDetalle=async()=>{try{const res=await fetch(\"\".concat(apiUrl,\"/pago/\").concat(reference));if(!res.ok)throw new Error(\"No se pudo obtener el detalle\");const data=await res.json();setDetalle(data);}catch(err){console.error(\"‚ùå Error obteniendo el resumen:\",err);setError(true);}finally{setCargando(false);}};obtenerDetalle();},[reference,apiUrl]);if(cargando)return/*#__PURE__*/_jsx(\"p\",{children:\"\\u23F3 Cargando resumen\\u2026\"});if(error||!detalle)return/*#__PURE__*/_jsx(\"p\",{style:{color:\"crimson\"},children:\"\\uD83D\\uDEA8 No se pudo cargar el resumen del pago.\"});return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"2rem\",border:\"1px solid #ccc\",padding:\"1rem\",borderRadius:\"8px\",backgroundColor:\"#f9f9f9\",maxWidth:\"450px\",marginLeft:\"auto\",marginRight:\"auto\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:\"1rem\"},children:\"\\uD83D\\uDCCB Detalles del Pago\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Referencia:\"}),\" \",detalle.reference||\"‚Äî\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Estado:\"}),\" \",detalle.status||\"Desconocido\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Monto:\"}),\" \",typeof detalle.amount_in_cents===\"number\"?\"$ \".concat((detalle.amount_in_cents/100).toLocaleString(\"es-CO\",{minimumFractionDigits:2}),\" COP\"):\"No disponible\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Fecha:\"}),\" \",detalle.createdAt?new Date(detalle.createdAt).toLocaleString(\"es-CO\"):detalle.created_at?new Date(detalle.created_at).toLocaleString(\"es-CO\"):\"No registrada\"]}),detalle.bank_name&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Banco:\"}),\" \",detalle.bank_name]}),detalle.user_email&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Correo:\"}),\" \",detalle.user_email]}),detalle.payment_method_type&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"M\\xE9todo:\"}),\" \",detalle.payment_method_type.toUpperCase()]}),typeof detalle.attempts===\"number\"&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Intentos:\"}),\" \",detalle.attempts]}),detalle.reject_reason&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Motivo del rechazo:\"}),\" \",detalle.reject_reason]})]});};export default ResumenPago;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","ResumenPago","_ref","reference","apiUrl","detalle","setDetalle","error","setError","cargando","setCargando","obtenerDetalle","res","fetch","concat","ok","Error","data","json","err","console","children","style","color","marginTop","border","padding","borderRadius","backgroundColor","maxWidth","marginLeft","marginRight","marginBottom","status","amount_in_cents","toLocaleString","minimumFractionDigits","createdAt","Date","created_at","bank_name","user_email","payment_method_type","toUpperCase","attempts","reject_reason"],"sources":["C:/Users/David/Desktop/mi-proyecto/frontend/src/components/ResumenPago.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nconst ResumenPago = ({ reference, apiUrl }) => {\r\n  const [detalle, setDetalle] = useState(null);     // üì¶ Detalle del pago recibido del backend\r\n  const [error, setError] = useState(false);        // ‚ö†Ô∏è Control de errores\r\n  const [cargando, setCargando] = useState(true);   // ‚è≥ Indicador de carga\r\n\r\n  useEffect(() => {\r\n    const obtenerDetalle = async () => {\r\n      try {\r\n        const res = await fetch(`${apiUrl}/pago/${reference}`);\r\n        if (!res.ok) throw new Error(\"No se pudo obtener el detalle\");\r\n        const data = await res.json();\r\n        setDetalle(data);\r\n      } catch (err) {\r\n        console.error(\"‚ùå Error obteniendo el resumen:\", err);\r\n        setError(true);\r\n      } finally {\r\n        setCargando(false);\r\n      }\r\n    };\r\n\r\n    obtenerDetalle();\r\n  }, [reference, apiUrl]);\r\n\r\n  if (cargando) return <p>‚è≥ Cargando resumen‚Ä¶</p>;\r\n  if (error || !detalle) return <p style={{ color: \"crimson\" }}>üö® No se pudo cargar el resumen del pago.</p>;\r\n\r\n  return (\r\n    <div style={{\r\n      marginTop: \"2rem\",\r\n      border: \"1px solid #ccc\",\r\n      padding: \"1rem\",\r\n      borderRadius: \"8px\",\r\n      backgroundColor: \"#f9f9f9\",\r\n      maxWidth: \"450px\",\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\"\r\n    }}>\r\n      <h3 style={{ marginBottom: \"1rem\" }}>üìã Detalles del Pago</h3>\r\n\r\n      <p><strong>Referencia:</strong> {detalle.reference || \"‚Äî\"}</p>\r\n      <p><strong>Estado:</strong> {detalle.status || \"Desconocido\"}</p>\r\n\r\n      <p>\r\n        <strong>Monto:</strong>{\" \"}\r\n        {typeof detalle.amount_in_cents === \"number\"\r\n          ? `$ ${(detalle.amount_in_cents / 100).toLocaleString(\"es-CO\", { minimumFractionDigits: 2 })} COP`\r\n          : \"No disponible\"}\r\n      </p>\r\n\r\n      <p>\r\n        <strong>Fecha:</strong>{\" \"}\r\n        {detalle.createdAt\r\n          ? new Date(detalle.createdAt).toLocaleString(\"es-CO\")\r\n          : detalle.created_at\r\n            ? new Date(detalle.created_at).toLocaleString(\"es-CO\")\r\n            : \"No registrada\"}\r\n      </p>\r\n\r\n      {detalle.bank_name && <p><strong>Banco:</strong> {detalle.bank_name}</p>}\r\n      {detalle.user_email && <p><strong>Correo:</strong> {detalle.user_email}</p>}\r\n      {detalle.payment_method_type && (\r\n        <p><strong>M√©todo:</strong> {detalle.payment_method_type.toUpperCase()}</p>\r\n      )}\r\n      {typeof detalle.attempts === \"number\" && (\r\n        <p><strong>Intentos:</strong> {detalle.attempts}</p>\r\n      )}\r\n      {detalle.reject_reason && <p><strong>Motivo del rechazo:</strong> {detalle.reject_reason}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResumenPago;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}