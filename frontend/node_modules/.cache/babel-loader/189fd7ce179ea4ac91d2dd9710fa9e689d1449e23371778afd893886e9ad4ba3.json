{"ast":null,"code":"import{useEffect,useState,useContext}from\"react\";import axios from\"axios\";import{CarritoContext}from\"../context/CarritoContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Productos(_ref){let{apiUrl,categoria}=_ref;const[productos,setProductos]=useState([]);const{agregarAlCarrito}=useContext(CarritoContext);useEffect(()=>{const obtenerProductos=async()=>{try{const endpoint=categoria?\"\".concat(apiUrl,\"/api/productos/categoria/\").concat(categoria):\"\".concat(apiUrl,\"/productos\");const res=await axios.get(endpoint);setProductos(res.data);}catch(error){console.error(\"‚ùå Error al obtener productos:\",error);}};obtenerProductos();},[categoria,apiUrl]);const handleAgregar=producto=>{if(typeof agregarAlCarrito===\"function\"){agregarAlCarrito(producto);}else{console.error(\"‚ùå agregarAlCarrito no est√° definido como funci√≥n\");}};const estilos={contenedor:{padding:\"2rem\",maxWidth:\"1200px\",margin:\"0 auto\"},titulo:{textAlign:\"center\",fontSize:\"2rem\",marginBottom:\"2rem\",color:\"#333\"},grid:{display:\"grid\",gridTemplateColumns:\"repeat(auto-fit, minmax(220px, 1fr))\",gap:\"2rem\"},card:{backgroundColor:\"#fff\",borderRadius:\"12px\",boxShadow:\"0 0 10px rgba(0,0,0,0.05)\",padding:\"1rem\",textAlign:\"center\",transition:\"transform 0.2s ease\"},imagen:{width:\"100%\",height:\"220px\",// ‚úÖ Ajustado\nobjectFit:\"contain\",// ‚úÖ Ajustado\nborderRadius:\"8px\",marginBottom:\"1rem\",border:\"1px solid #eee\"},nombre:{fontSize:\"1.2rem\",margin:\"0.5rem 0\"},descripcion:{fontSize:\"0.9rem\",color:\"#666\",marginBottom:\"0.5rem\"},precio:{fontWeight:\"bold\",fontSize:\"1rem\",marginBottom:\"0.5rem\"},stock:{fontSize:\"0.85rem\",color:\"#888\",marginBottom:\"1rem\"},boton:{backgroundColor:\"#3498db\",color:\"#fff\",border:\"none\",padding:\"0.5rem 1rem\",borderRadius:\"6px\",cursor:\"pointer\"}};return/*#__PURE__*/_jsxs(\"div\",{style:estilos.contenedor,children:[/*#__PURE__*/_jsx(\"h2\",{style:estilos.titulo,children:categoria?\"\\uD83D\\uDECD\\uFE0F Productos de \".concat(categoria):\"üõçÔ∏è Todos los productos\"}),/*#__PURE__*/_jsx(\"div\",{style:estilos.grid,children:productos.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No hay productos disponibles en esta categor\\xEDa.\"}):productos.map(prod=>/*#__PURE__*/_jsxs(\"div\",{style:estilos.card,children:[/*#__PURE__*/_jsx(\"img\",{src:prod.imagenUrl,alt:prod.nombre,style:estilos.imagen,onError:e=>e.target.src=\"/imagenes/default.jpg\"}),/*#__PURE__*/_jsx(\"h3\",{style:estilos.nombre,children:prod.nombre}),/*#__PURE__*/_jsx(\"p\",{style:estilos.descripcion,children:prod.descripcion}),/*#__PURE__*/_jsxs(\"p\",{style:estilos.precio,children:[\"$\",prod.precio.toLocaleString()]}),/*#__PURE__*/_jsx(\"button\",{style:estilos.boton,onClick:()=>handleAgregar(prod),children:\"Agregar al carrito\"})]},prod._id))})]});}export default Productos;","map":{"version":3,"names":["useEffect","useState","useContext","axios","CarritoContext","jsx","_jsx","jsxs","_jsxs","Productos","_ref","apiUrl","categoria","productos","setProductos","agregarAlCarrito","obtenerProductos","endpoint","concat","res","get","data","error","console","handleAgregar","producto","estilos","contenedor","padding","maxWidth","margin","titulo","textAlign","fontSize","marginBottom","color","grid","display","gridTemplateColumns","gap","card","backgroundColor","borderRadius","boxShadow","transition","imagen","width","height","objectFit","border","nombre","descripcion","precio","fontWeight","stock","boton","cursor","style","children","length","map","prod","src","imagenUrl","alt","onError","e","target","toLocaleString","onClick","_id"],"sources":["C:/Users/David/Desktop/mi-proyecto/frontend/src/components/Productos.jsx"],"sourcesContent":["import { useEffect, useState, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { CarritoContext } from \"../context/CarritoContext\";\r\n\r\nfunction Productos({ apiUrl, categoria }) {\r\n  const [productos, setProductos] = useState([]);\r\n  const { agregarAlCarrito } = useContext(CarritoContext);\r\n\r\n  useEffect(() => {\r\n    const obtenerProductos = async () => {\r\n      try {\r\n        const endpoint = categoria\r\n          ? `${apiUrl}/api/productos/categoria/${categoria}`\r\n          : `${apiUrl}/productos`;\r\n\r\n        const res = await axios.get(endpoint);\r\n        setProductos(res.data);\r\n      } catch (error) {\r\n        console.error(\"‚ùå Error al obtener productos:\", error);\r\n      }\r\n    };\r\n\r\n    obtenerProductos();\r\n  }, [categoria, apiUrl]);\r\n\r\n  const handleAgregar = (producto) => {\r\n    if (typeof agregarAlCarrito === \"function\") {\r\n      agregarAlCarrito(producto);\r\n    } else {\r\n      console.error(\"‚ùå agregarAlCarrito no est√° definido como funci√≥n\");\r\n    }\r\n  };\r\n\r\n  const estilos = {\r\n    contenedor: {\r\n      padding: \"2rem\",\r\n      maxWidth: \"1200px\",\r\n      margin: \"0 auto\"\r\n    },\r\n    titulo: {\r\n      textAlign: \"center\",\r\n      fontSize: \"2rem\",\r\n      marginBottom: \"2rem\",\r\n      color: \"#333\"\r\n    },\r\n    grid: {\r\n      display: \"grid\",\r\n      gridTemplateColumns: \"repeat(auto-fit, minmax(220px, 1fr))\",\r\n      gap: \"2rem\"\r\n    },\r\n    card: {\r\n      backgroundColor: \"#fff\",\r\n      borderRadius: \"12px\",\r\n      boxShadow: \"0 0 10px rgba(0,0,0,0.05)\",\r\n      padding: \"1rem\",\r\n      textAlign: \"center\",\r\n      transition: \"transform 0.2s ease\"\r\n    },\r\n    imagen: {\r\n      width: \"100%\",\r\n      height: \"220px\",         // ‚úÖ Ajustado\r\n      objectFit: \"contain\",    // ‚úÖ Ajustado\r\n      borderRadius: \"8px\",\r\n      marginBottom: \"1rem\",\r\n      border: \"1px solid #eee\"\r\n    },\r\n    nombre: {\r\n      fontSize: \"1.2rem\",\r\n      margin: \"0.5rem 0\"\r\n    },\r\n    descripcion: {\r\n      fontSize: \"0.9rem\",\r\n      color: \"#666\",\r\n      marginBottom: \"0.5rem\"\r\n    },\r\n    precio: {\r\n      fontWeight: \"bold\",\r\n      fontSize: \"1rem\",\r\n      marginBottom: \"0.5rem\"\r\n    },\r\n    stock: {\r\n      fontSize: \"0.85rem\",\r\n      color: \"#888\",\r\n      marginBottom: \"1rem\"\r\n    },\r\n    boton: {\r\n      backgroundColor: \"#3498db\",\r\n      color: \"#fff\",\r\n      border: \"none\",\r\n      padding: \"0.5rem 1rem\",\r\n      borderRadius: \"6px\",\r\n      cursor: \"pointer\"\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={estilos.contenedor}>\r\n      <h2 style={estilos.titulo}>\r\n        {categoria ? `üõçÔ∏è Productos de ${categoria}` : \"üõçÔ∏è Todos los productos\"}\r\n      </h2>\r\n\r\n      <div style={estilos.grid}>\r\n        {productos.length === 0 ? (\r\n          <p>No hay productos disponibles en esta categor√≠a.</p>\r\n        ) : (\r\n          productos.map((prod) => (\r\n            <div key={prod._id} style={estilos.card}>\r\n              <img\r\n                src={prod.imagenUrl}\r\n                alt={prod.nombre}\r\n                style={estilos.imagen}\r\n                onError={(e) => (e.target.src = \"/imagenes/default.jpg\")}\r\n              />\r\n              <h3 style={estilos.nombre}>{prod.nombre}</h3>\r\n              <p style={estilos.descripcion}>{prod.descripcion}</p>\r\n              <p style={estilos.precio}>${prod.precio.toLocaleString()}</p>\r\n              <button\r\n                style={estilos.boton}\r\n                onClick={() => handleAgregar(prod)}\r\n              >\r\n                Agregar al carrito\r\n              </button>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Productos;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}