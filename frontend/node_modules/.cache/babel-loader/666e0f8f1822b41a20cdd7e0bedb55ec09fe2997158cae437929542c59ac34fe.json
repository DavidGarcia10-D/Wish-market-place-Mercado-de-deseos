{"ast":null,"code":"import _objectSpread from\"C:/Users/David/Desktop/mi-proyecto/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// frontend/src/components/Carrito.jsx\nimport React,{useContext}from\"react\";import{CarritoContext}from\"../context/CarritoContext\";import{showSuccess}from\"../utils/toast\";import\"./Carrito.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Carrito=()=>{const{carrito,setCarrito}=useContext(CarritoContext);const eliminarDelCarrito=id=>{const nuevoCarrito=carrito.filter(item=>item._id!==id);setCarrito(nuevoCarrito);showSuccess(\"‚ùå Producto eliminado del carrito\");};const modificarCantidad=(id,delta)=>{const nuevoCarrito=carrito.map(item=>{if(item._id===id){const nuevaCantidad=Math.max(item.cantidad+delta,1);return _objectSpread(_objectSpread({},item),{},{cantidad:nuevaCantidad});}return item;});setCarrito(nuevoCarrito);};const total=carrito.reduce((acc,item)=>acc+item.precio*item.cantidad,0);return/*#__PURE__*/_jsxs(\"div\",{className:\"carrito-contenedor\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"carrito-titulo\",children:\"\\uD83D\\uDED2 Tu carrito de compras\"}),carrito.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"carrito-vacio\",children:\"\\uD83E\\uDDFA El carrito est\\xE1 vac\\xEDo. \\xA1Agrega productos para comenzar!\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"carrito-lista\",children:[carrito.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"carrito-item\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.imagenUrl||\"/imagenes/default.jpg\",alt:item.nombre,className:\"carrito-imagen\",onError:e=>e.target.src=\"/imagenes/default.jpg\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"carrito-info\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"carrito-nombre\",children:item.nombre}),/*#__PURE__*/_jsxs(\"p\",{className:\"carrito-texto\",children:[\"Precio:\",\" \",new Intl.NumberFormat(\"es-CO\",{style:\"currency\",currency:\"COP\",minimumFractionDigits:0}).format(item.precio)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"carrito-cantidad-control\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"carrito-boton-cantidad\",onClick:()=>modificarCantidad(item._id,-1),children:\"\\u2212\"}),/*#__PURE__*/_jsx(\"span\",{children:item.cantidad}),/*#__PURE__*/_jsx(\"button\",{className:\"carrito-boton-cantidad\",onClick:()=>modificarCantidad(item._id,1),children:\"+\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"carrito-boton-eliminar\",onClick:()=>eliminarDelCarrito(item._id),children:\"\\u274C Eliminar\"})]})]},item._id)),/*#__PURE__*/_jsxs(\"h3\",{className:\"carrito-total\",children:[\"Total:\",\" \",new Intl.NumberFormat(\"es-CO\",{style:\"currency\",currency:\"COP\",minimumFractionDigits:0}).format(total)]})]})]});};export default Carrito;","map":{"version":3,"names":["React","useContext","CarritoContext","showSuccess","jsx","_jsx","jsxs","_jsxs","Carrito","carrito","setCarrito","eliminarDelCarrito","id","nuevoCarrito","filter","item","_id","modificarCantidad","delta","map","nuevaCantidad","Math","max","cantidad","_objectSpread","total","reduce","acc","precio","className","children","length","src","imagenUrl","alt","nombre","onError","e","target","Intl","NumberFormat","style","currency","minimumFractionDigits","format","onClick"],"sources":["C:/Users/David/Desktop/mi-proyecto/frontend/src/components/Carrito.jsx"],"sourcesContent":["// frontend/src/components/Carrito.jsx\r\n\r\nimport React, { useContext } from \"react\";\r\nimport { CarritoContext } from \"../context/CarritoContext\";\r\nimport { showSuccess } from \"../utils/toast\";\r\nimport \"./Carrito.css\";\r\n\r\nconst Carrito = () => {\r\n  const { carrito, setCarrito } = useContext(CarritoContext);\r\n\r\n  const eliminarDelCarrito = (id) => {\r\n    const nuevoCarrito = carrito.filter(item => item._id !== id);\r\n    setCarrito(nuevoCarrito);\r\n    showSuccess(\"‚ùå Producto eliminado del carrito\");\r\n  };\r\n\r\n  const modificarCantidad = (id, delta) => {\r\n    const nuevoCarrito = carrito.map(item => {\r\n      if (item._id === id) {\r\n        const nuevaCantidad = Math.max(item.cantidad + delta, 1);\r\n        return { ...item, cantidad: nuevaCantidad };\r\n      }\r\n      return item;\r\n    });\r\n    setCarrito(nuevoCarrito);\r\n  };\r\n\r\n  const total = carrito.reduce((acc, item) => acc + item.precio * item.cantidad, 0);\r\n\r\n  return (\r\n    <div className=\"carrito-contenedor\">\r\n      <h2 className=\"carrito-titulo\">üõí Tu carrito de compras</h2>\r\n\r\n      {carrito.length === 0 ? (\r\n        <p className=\"carrito-vacio\">\r\n          üß∫ El carrito est√° vac√≠o. ¬°Agrega productos para comenzar!\r\n        </p>\r\n      ) : (\r\n        <div className=\"carrito-lista\">\r\n          {carrito.map(item => (\r\n            <div key={item._id} className=\"carrito-item\">\r\n              <img\r\n                src={item.imagenUrl || \"/imagenes/default.jpg\"}\r\n                alt={item.nombre}\r\n                className=\"carrito-imagen\"\r\n                onError={(e) => e.target.src = \"/imagenes/default.jpg\"}\r\n              />\r\n              <div className=\"carrito-info\">\r\n                <h4 className=\"carrito-nombre\">{item.nombre}</h4>\r\n                <p className=\"carrito-texto\">\r\n                  Precio:{\" \"}\r\n                  {new Intl.NumberFormat(\"es-CO\", {\r\n                    style: \"currency\",\r\n                    currency: \"COP\",\r\n                    minimumFractionDigits: 0\r\n                  }).format(item.precio)}\r\n                </p>\r\n\r\n                <div className=\"carrito-cantidad-control\">\r\n                  <button\r\n                    className=\"carrito-boton-cantidad\"\r\n                    onClick={() => modificarCantidad(item._id, -1)}\r\n                  >\r\n                    ‚àí\r\n                  </button>\r\n                  <span>{item.cantidad}</span>\r\n                  <button\r\n                    className=\"carrito-boton-cantidad\"\r\n                    onClick={() => modificarCantidad(item._id, 1)}\r\n                  >\r\n                    +\r\n                  </button>\r\n                </div>\r\n\r\n                <button\r\n                  className=\"carrito-boton-eliminar\"\r\n                  onClick={() => eliminarDelCarrito(item._id)}\r\n                >\r\n                  ‚ùå Eliminar\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n\r\n          <h3 className=\"carrito-total\">\r\n            Total:{\" \"}\r\n            {new Intl.NumberFormat(\"es-CO\", {\r\n              style: \"currency\",\r\n              currency: \"COP\",\r\n              minimumFractionDigits: 0\r\n            }).format(total)}\r\n          </h3>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Carrito;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}